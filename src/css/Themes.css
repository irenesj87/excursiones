/* ======================================== */
/* --- ESTILOS PARA MODO CLARO --- */
/* ======================================== */
html.light {
	/* --- Paleta y Colores Base --- */
	--primary-color: hsl(150, 26%, 27%); /* Verde oscuro */
	--primary-color-rgb: 48, 90, 69;
	--primary-color-hover: hsl(140, 10%, 20%); /* Más oscuro para el hover */
	--accent-color: hsl(140, 10%, 25%);
	--heading-color: hsl(140, 25%, 25%);
	--body-bg: hsl(0, 0%, 100%);

	/* --- Texto --- */
	--text-color: hsl(210, 10%, 23%); /* Gris oscuro para texto: #333D49 */
	--text-secondary: hsl(210, 9%, 45%); /* Gris medio: #64748B */

	/* --- Bordes y Separadores --- */
	--separator-color: hsl(140, 30%, 94%); /* Verde-grisáceo muy claro */

	/* --- Botones y Enlaces --- */
	--login-btn-text: #ffffff;
	--login-btn-bg: var(--primary-color);
	--login-btn-border: var(--primary-color);
	--login-btn-bg-hover: var(--primary-color-hover);
	--login-btn-border-hover: var(--primary-color-hover);

	--register-link-color: var(--heading-color);
	--register-link-border-color: var(--separator-color);
	--register-link-bg-hover: hsl(140, 30%, 94%);
	--nav-link-active-bg: hsl(210, 15%, 90%);
	--nav-link-active-border: hsl(210, 15%, 85%);

	--switcher-link-color: var(--primary-color);

	--logout-bg-color: hsl(140, 30%, 94%); /* Verde-grisáceo claro */
	--logout-bg-color-hover: hsl(140, 30%, 90%); /* Un poco más oscuro */
	--logout-text-color: var(--text-color);

	--theme-toggle-btn-color: var(--text-secondary);
	--theme-toggle-btn-border-color: var(--separator-color);
	--theme-toggle-btn-bg-hover: hsl(140, 30%, 94%);

	/* --- Tarjetas (ExcursionCard, UserInfo) --- */
	--excursion-card-bg: #ffffff;
	--excursion-card-shadow: none;
	--excursion-card-title-color: var(--heading-color);
	--excursion-card-border: 1px solid hsl(210, 15%, 88%);
	--excursion-card-icon-color: var(--primary-color);
	--excursion-card-joined-status-text: var(--primary-color);

	/* --- Filtros --- */
	--filter-container-bg: #ffffff; /* Fondo blanco para el contenedor de filtros */
	--filter-title-color: var(
		--heading-color
	); /* Título oscuro sobre fondo blanco */

	--filters-toggle-btn-color: var(--text-secondary);
	--filters-toggle-btn-border: var(--separator-color);
	--filters-toggle-btn-bg-hover: hsl(140, 30%, 94%);
	--filters-toggle-btn-color-hover: var(--primary-color);
	--filters-toggle-btn-border-hover: var(--primary-color);
	--filters-toggle-btn-bg-active: var(--primary-color);
	--filters-toggle-btn-color-active: var(--login-btn-text);
	--filters-toggle-btn-border-active: var(--primary-color);

	--mobile-filters-bar-bg: var(--body-bg);
	--mobile-filters-bar-border: var(--separator-color);
	--filter-badge-bg: var(--primary-color);
	--filter-badge-text: var(--login-btn-text);

	/* Píldoras de filtro (no seleccionadas) */
	--filter-pill-bg: hsl(210, 20%, 96%); /* Gris muy claro */
	--filter-pill-text: var(--text-color); /* Texto oscuro */
	--filter-pill-border: hsl(210, 15%, 90%); /* Borde gris claro */
	--filter-pill-bg-hover: hsl(210, 15%, 90%); /* Gris claro para hover */
	--filter-pill-border-hover: hsl(210, 15%, 85%);
	/* Píldoras de filtro (seleccionadas) */
	--filter-pill-bg-checked: hsl(210, 15%, 88%); /* Gris más oscuro */
	--filter-pill-text-checked: var(--text-color); /* Texto oscuro */
	--filter-pill-border-checked: hsl(210, 15%, 88%);
	--filter-pill-shadow-checked: none;

	--filter-clear-btn-color-hover: hsl(347, 77%, 50%);

	/* --- Footer --- */
	--footer-bg: var(--primary-color); /* Verde oscuro */
	--footer-text-color: #ffffff; /* Texto blanco para contraste */
	--footer-border-top: var(
		--primary-color-hover
	); /* Borde superior más oscuro */
	--footer-icon-bg: hsl(0, 0%, 100%);
	--footer-icon-color: var(--text-secondary);
	--footer-icon-bg-hover: hsl(0, 0%, 88%);

	/* --- Indicadores de Dificultad (Bootstrap Overrides) --- */
	--bs-success: hsl(145, 60%, 35%);
	--bs-warning: hsl(40, 80%, 60%);
	--bs-danger: hsl(0, 60%, 40%);

	/* --- Variables para badges de dificultad --- */
	--difficulty-low-bg: hsl(140, 70%, 86%); /* Verde más vivo */
	--difficulty-low-text: hsl(140, 60%, 20%);
	--difficulty-medium-bg: hsl(40, 95%, 86%); /* Amarillo más vivo */
	--difficulty-medium-text: hsl(40, 85%, 18%);
	--difficulty-high-bg: hsl(0, 95%, 88%); /* Rojo más vivo */
	--difficulty-high-text: hsl(0, 70%, 33%);

	/* --- Accesibilidad --- */
	--focus-outline-color: var(--primary-color);
}

html.light body {
	background-color: var(--body-bg);
	color: var(--text-color);
}

/* ======================================== */
/* 3. TEMA OSCURO (DARK) */
/* ======================================== */
html.dark {
	/* --- Paleta y Colores Base --- */
	--primary-color: hsl(140, 45%, 70%); /* Verde pastel claro */
	--primary-color-rgb: 156, 201, 178;
	--primary-color-hover: hsl(140, 45%, 65%);
	--accent-color: hsl(140, 45%, 70%);
	--heading-color: hsl(140, 25%, 95%); /* Blanco con tinte verde */
	--body-bg: hsl(140, 10%, 15%); /* Verde muy oscuro */

	/* --- Texto --- */
	--text-color: hsl(140, 15%, 85%); /* Gris verdoso claro */
	--text-secondary: hsl(140, 10%, 65%); /* Gris verdoso medio */

	/* --- Bordes y Separadores --- */
	--separator-color: hsl(140, 10%, 25%); /* Verde-grisáceo oscuro */

	/* --- Botones y Enlaces --- */
	--login-btn-text: hsl(140, 15%, 10%); /* Verde muy oscuro, casi negro */
	--login-btn-bg: var(--primary-color);
	--login-btn-border: var(--primary-color);
	--login-btn-bg-hover: var(--primary-color-hover);
	--login-btn-border-hover: var(--primary-color-hover);

	--register-link-color: var(--text-color);
	--register-link-border-color: var(--separator-color);
	--register-link-bg-hover: rgba(255, 255, 255, 0.1);
	--nav-link-active-bg: hsl(140, 10%, 30%);
	--nav-link-active-border: hsl(140, 10%, 40%);

	--switcher-link-color: var(--primary-color);

	--logout-bg-color: hsl(140, 10%, 25%);
	--logout-bg-color-hover: hsl(140, 10%, 30%);
	--logout-text-color: var(--text-color);

	--theme-toggle-btn-color: #e8f5e9;
	--theme-toggle-btn-border-color: #3a5a40;
	--theme-toggle-btn-bg-hover: rgba(255, 255, 255, 0.1);

	/* --- Tarjetas (ExcursionCard, UserInfo) --- */
	--excursion-card-bg: hsl(140, 10%, 20%); /* Verde-grisáceo */
	--excursion-card-shadow: none;
	--excursion-card-title-color: var(--heading-color);
	--excursion-card-border: 1px solid var(--separator-color);
	--excursion-card-icon-color: var(--primary-color);
	--excursion-card-joined-status-text: hsl(
		138,
		71%,
		65%
	); /* Verde éxito claro */

	/* --- Filtros --- */
	--filter-container-bg: hsl(140, 10%, 20%);
	--filter-title-color: var(--heading-color);

	--filters-toggle-btn-color: var(--text-color);
	--filters-toggle-btn-border: var(--separator-color);
	--filters-toggle-btn-bg-hover: hsl(140, 10%, 25%);
	--filters-toggle-btn-color-hover: var(--primary-color);
	--filters-toggle-btn-border-hover: var(--primary-color);
	--filters-toggle-btn-bg-active: var(--primary-color);
	--filters-toggle-btn-color-active: var(--login-btn-text);
	--filters-toggle-btn-border-active: var(--primary-color);

	--mobile-filters-bar-bg: var(--body-bg);
	--mobile-filters-bar-border: var(--separator-color);
	--filter-badge-bg: var(--primary-color);
	--filter-badge-text: var(--login-btn-text);

	--filter-pill-bg: hsl(140, 10%, 25%);
	--filter-pill-text: var(--text-color);
	--filter-pill-border: hsl(140, 10%, 30%);
	--filter-pill-bg-hover: hsl(140, 10%, 30%);
	--filter-pill-border-hover: hsl(140, 10%, 40%);
	--filter-pill-bg-checked: var(--primary-color);
	--filter-pill-text-checked: hsl(140, 15%, 10%);
	--filter-pill-border-checked: var(--primary-color);
	--filter-pill-shadow-checked: none;

	--filter-clear-btn-color-hover: hsl(355, 83%, 71%); /* Rojo claro */

	/* --- Footer --- */
	--footer-bg: var(--body-bg);
	--footer-text-color: var(--text-secondary);
	--footer-border-top: var(--separator-color);
	--footer-icon-bg: hsl(140, 10%, 20%);
	--footer-icon-color: var(--text-secondary);
	--footer-icon-bg-hover: hsl(140, 10%, 25%);

	/* --- Indicadores de Dificultad (Bootstrap Overrides) --- */
	--bs-success: hsl(138, 71%, 65%);
	--bs-warning: hsl(43, 94%, 66%);
	--bs-danger: hsl(355, 83%, 71%);

	/* --- Variables para badges de dificultad --- */
	--difficulty-low-bg: hsl(145, 65%, 30%); /* Verde oscuro más vivo */
	--difficulty-low-text: hsl(145, 35%, 92%);
	--difficulty-medium-bg: hsl(35, 95%, 32%); /* Naranja oscuro más vivo */
	--difficulty-medium-text: hsl(35, 60%, 90%);
	--difficulty-high-bg: hsl(347, 85%, 38%); /* Rojo oscuro más vivo */
	--difficulty-high-text: hsl(347, 55%, 92%);

	/* --- Accesibilidad --- */
	--focus-outline-color: var(--primary-color);
}

html.dark body {
	background-color: var(--body-bg);
	color: var(--text-color);
}

/* ======================================== */
/* 4. ESTILOS DE COMPONENTES (DEPENDEN DEL TEMA) */
/* ======================================== */

/* Invierte el color del botón de cierre en modo oscuro para que sea visible */
html.dark .btn-close {
	filter: invert(1) grayscale(100%) brightness(200%);
}

/* --- Formularios (Inputs, etc.) --- */
.form-control {
	background-color: var(--excursion-card-bg);
	color: var(--text-color);
	border: 1px solid var(--separator-color);
}

.form-control::placeholder {
	color: var(--text-secondary);
}

/* Sobrescribe el estilo de foco de Bootstrap para que sea consistente con el :focus-visible global */
.form-control:focus {
	color: var(--text-color);
	background-color: var(--excursion-card-bg);
	border-color: var(
		--primary-color
	); /* Usamos el color primario para un mejor indicador de foco */
}

/* Estilos para inputs deshabilitados o de solo lectura, para que se adapten al tema */
/* Se excluyen los de tipo 'plaintext' para que no tengan fondo */
.form-control:disabled:not(.form-control-plaintext),
.form-control[readonly]:not(.form-control-plaintext) {
	background-color: var(--excursion-card-bg);
	color: var(--text-secondary);
}

/* --- Offcanvas (Menú y Filtros) --- */
.offcanvas-header {
	background-color: var(--body-bg);
	color: var(--text-color);
	border-bottom: 1px solid var(--separator-color);
}

.offcanvas-body {
	background-color: var(--excursion-card-bg);
}

/* Estilos específicos para los enlaces dentro del Offcanvas de navegación (identificado por su ID) */
#offcanvasNavbar .offcanvas-body .nav-link {
	color: var(
		--text-color
	); /* Asegura que el texto sea legible en ambos temas */
}

/* Estilos para el botón de 'Iniciar Sesión' dentro del Offcanvas */
#offcanvasNavbar .offcanvas-body .nav-link.loginLink {
	color: var(--login-btn-text);
	background-color: var(--login-btn-bg);
	border: 1px solid var(--login-btn-border);
}

#offcanvasNavbar .offcanvas-body .nav-link.loginLink:hover {
	background-color: var(--login-btn-bg-hover);
	border-color: var(--login-btn-border-hover);
}

/* Estilos específicos para los inputs de tipo 'plaintext' */
.form-control-plaintext {
	color: var(--text-color);
}
