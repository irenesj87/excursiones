/* ======================================== */
/* --- VARIABLES GLOBALES (NO DEPENDEN DEL TEMA) --- */
/* ======================================== */
:root {
	/* --- Variables para componentes específicos que no dependen del tema --- */
	--filter-clear-btn-color-hover: #dc3545; /* Color de peligro de Bootstrap */
}

/* ======================================== */
/* --- ESTILOS PARA MODO CLARO --- */
/* ======================================== */
html.light body {
	transition: none;
	/* --- Paleta principal --- */
	--primary-color: #315036;
	--accent-color: #c05600;
	--heading-color: var(--primary-color);

	/* Paleta de verdes para el modo claro */
	background-color: #f7f9f7; /* Blanco con un sutil tinte verde */
	color: #1a2b1e; /* Verde muy oscuro, casi negro, para texto principal */
	--register-link-color: #1a2b1e;
	--register-link-border-color: #1a2b1e;
	--logout-bg-color: #6c757d; /* Gris secundario de Bootstrap */
	--logout-bg-color-hover: #5c636a; /* Gris secundario más oscuro de Bootstrap */
	--logout-text-color: #ffffff; /* Texto blanco para contraste en fondo oscuro */

	--text-color: #1a2b1e;
	/* Variables de color para texto genérico */
	--text-secondary: #5c7f67; /* Verde-grisáceo para texto secundario */

	/* Color para bordes y separadores principales */
	--separator-color: #dce3dd; /* Verde-grisáceo muy claro */

	/* --- Variables para ExcursionCard --- */
	--excursion-card-bg: #ffffff; /* Blanco puro para que las tarjetas resalten */
	--excursion-card-joined-status-text: var(
		--bs-success
	); /* Verde oscuro de Bootstrap */
	--excursion-card-title-color: #1a2b1e;
	--excursion-card-shadow: 0 5px 15px rgba(49, 80, 54, 0.08);
	--excursion-card-icon-color: var(--primary-color);

	/* --- Estilos para la barra de navegación --- */
	.customNavbar {
		background-color: #f7f9f7;
		color: #1a2b1e;
	}

	/* --- Estilos para filtros --- */
	--filters-toggle-btn-color: #5c7f67;
	--filters-toggle-btn-border: #dce3dd;
	--filters-toggle-btn-bg-hover: #e2e6ea;
	--filters-toggle-btn-color-hover: #315036;
	--filters-toggle-btn-border-hover: #dce3dd;

	--filter-container-bg: #ffffff;
	--filter-pill-bg: #f1f3f5;
	--filter-pill-text: #495057;
	--filter-pill-border: #dee2e6;
	--filter-pill-bg-hover: #e9ecef;
	--filter-pill-border-hover: #adb5bd;
	--filter-pill-shadow-checked: 0 2px 5px rgba(0, 0, 0, 0.1);
	--filter-title-color: #1a2b1e;

	/* --- Variables para Píldoras de Filtros Seleccionadas --- */
	--filter-pill-bg-checked: var(--primary-color);
	--filter-pill-text-checked: #ffffff;
	--filter-pill-border-checked: var(--primary-color);

	/* --- Variables para Botón de Tema --- */
	--theme-toggle-btn-color: var(--text-secondary);
	--theme-toggle-btn-border-color: var(--separator-color);
	--theme-toggle-btn-bg-hover: rgba(0, 0, 0, 0.05);

	/* --- Accesibilidad --- */
	--focus-outline-color: var(--accent-color);

	.accordion-button,
	.accordion-body {
		background-color: #f7f9f7;
		color: #1a2b1e;

		&::after {
			/* Define la imagen de fondo para el icono del acordeón en modo claro */
			background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%231a2b1e'><path fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/></svg>");
		}
	}

	.offcanvas-header {
		background-color: #f7f9f7;
		color: var(--primary-color);
		border-bottom: 1px solid var(--separator-color);
	}

	.offcanvas-body {
		background-color: #ffffff;
	}

	/* Botón para mostrar filtros en breakpoints xs */
	.filtersToggleButton {
		color: var(--filters-toggle-btn-color);
		border-color: var(--filters-toggle-btn-border);
		background-color: transparent;
	}

	.filtersToggleButton:hover {
		color: var(--filters-toggle-btn-color-hover);
		background-color: var(--filters-toggle-btn-bg-hover);
		border-color: var(--filters-toggle-btn-border-hover);
	}
}

/* ======================================== */
/* --- ESTILOS PARA MODO OSCURO --- */
/* ======================================== */
html.dark body {
	transition: none; /* Eliminar transición para el body en cambio de tema */
	/* --- Paleta principal --- */
	--primary-color: #315036; /* Mantenemos el verde principal para consistencia en elementos como headers */

	/* Paleta de verdes oscuros "Bosque Profundo" */
	background-color: #1a2b1e; /* Verde muy oscuro para el fondo */
	color: #e8f5e9; /* Blanco verdoso muy claro para el texto principal */
	--heading-color: #9CCC65; /* Verde más brillante para mejorar contraste y accesibilidad */
	--accent-color: #f39c12; /* Naranja para alertas, se mantiene por su buen contraste */
	--register-link-color: #e8f5e9;
	--register-link-border-color: #a3b8a8; /* Borde más sutil */
	--logout-bg-color: rgb(80, 73, 73);
	--logout-bg-color-hover: rgb(100, 93, 93);
	--logout-text-color: #e8f5e9; /* Texto claro para contraste en fondo oscuro */

	--text-color: #e8f5e9;
	/* Variables de color para texto genérico */

	--text-secondary: #a3b8a8; /* Verde-grisáceo para texto secundario */

	/* Color para bordes y separadores principales */
	--separator-color: #3a5a40; /* Verde oscuro para bordes */

	/* --- Variables para ExcursionCard --- */
	--excursion-card-bg: #213426; /* Verde un poco más claro que el fondo */
	--excursion-card-joined-status-text: var(
		--heading-color
	); /* Verde brillante para contraste */
	--excursion-card-title-color: #e8f5e9;
	--excursion-card-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
	--excursion-card-icon-color: var(--heading-color);

	/* --- Variables para Botones de Filtros --- */
	--filters-toggle-btn-color: #e8f5e9;
	--filters-toggle-btn-border: #a3b8a8;
	--filters-toggle-btn-bg-hover: rgba(255, 255, 255, 0.1);
	--filters-toggle-btn-color-hover: #e8f5e9;
	--filters-toggle-btn-border-hover: #a3b8a8;

	/* --- Variables para Píldoras de Filtros Seleccionadas --- */
	--filter-pill-bg-checked: var(--heading-color); /* Verde brillante */
	--filter-pill-text-checked: #1a2b1e; /* Texto oscuro para máximo contraste */
	--filter-pill-border-checked: var(--heading-color);

	/* --- Variables para Filtros --- */
	--filter-container-bg: #213426; /* Verde un poco más claro que el fondo, como las tarjetas */
	--filter-container-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
	--filter-pill-bg: #3a5a40; /* Verde oscuro para píldoras no seleccionadas */
	--filter-pill-text: #e8f5e9;
	--filter-pill-border: #4f7659;
	--filter-pill-bg-hover: #4f7659;
	--filter-pill-border-hover: #6a994e;
	--filter-pill-shadow-checked: 0 2px 8px rgba(0, 0, 0, 0.4);
	--filter-title-color: #e8f5e9;

	/* --- Variables para Botón de Tema --- */
	--theme-toggle-btn-color: #e8f5e9;
	--theme-toggle-btn-border-color: #3a5a40;
	--theme-toggle-btn-bg-hover: rgba(255, 255, 255, 0.1);

	/* --- Accesibilidad --- */
	--focus-outline-color: var(--accent-color);

	/* --- Estilos para la barra de navegación --- */
	.customNavbar {
		background-color: #1a2b1e;
		color: #e8f5e9;
		border-bottom: 1px solid var(--separator-color);
		box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25); /* Sombra sutil para dar profundidad */
	}

	/* Estilos de hover para el enlace de registro en la barra de navegación */
	.customNavbar .nav-link[class*="registerLink"]:hover {
		background-color: rgb(255, 255, 255, 0.1);
		color: var(--register-link-color);
		border-color: #e8f5e9;
	}

	/* Estilos para el enlace del 'switcher' en las páginas de formulario (Login/Register) en modo oscuro */
	/* Se usa un selector de atributo para apuntar a la clase generada por CSS Modules desde FormPageLayout.module.css */
	[class*="switcherLink"] {
		color: var(--heading-color);
	}

	[class*="switcherLink"]:hover {
		/* Cambia al color de texto principal en hover para unificar la experiencia */
		color: var(--text-color);
	}

	/* --- Estilos para los filtros --- */
	.accordion-button,
	.accordion-body {
		background-color: #1a2b1e;
		color: #e8f5e9;
		&::after {
			/* Define la imagen de fondo para el icono del acordeón en modo oscuro */
			background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23e8f5e9'><path fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/></svg>");
		}
	}

	.accordion-item {
		border-bottom: 1px solid var(--separator-color);
		background-color: #1a2b1e;
	}

	/* Establece el color de fondo y el borde inferior del encabezado de la tarjeta */
	.card-header {
		border-bottom: 1px solid var(--separator-color);
	}

	/* Cambia el color del borde superior dentro de las tarjetas para que coincida con el tema oscuro */
	.card-body .border-top {
		/* Usamos !important para sobrescribir los estilos por defecto de Bootstrap */
		border-top-color: var(--separator-color) !important;
	}

	/* Establece el color de texto del texto de la tarjeta */
	.card-text {
		color: #e8f5e9;
	}

	/* --- Estilos para los Form.Control --- */
	.form-control {
		/* Establece el color de fondo, color de texto, borde y elimina la transición para los controles de formulario */
		background-color: #213426;
		color: #e8f5e9;
		border: 1px solid var(--separator-color);
		transition: none;
	}

	.form-control::placeholder {
		color: #a3b8a8;
	}

	.form-control:disabled,
	.form-control[readonly] {
		/* Establece el color de fondo, color de texto y borde para controles de formulario deshabilitados o de solo lectura */
		background-color: #1a2b1e;
		color: #a3b8a8;
		border: 1px solid var(--separator-color);
	}

	/* Establece el color de texto para controles de formulario de texto sin formato de solo lectura */
	.form-control-plaintext[readonly] {
		color: #e8f5e9;
	}

	/* --- Estilos para Paginación --- */
	.pagination {
		--bs-pagination-color: #e8f5e9;
		--bs-pagination-bg: #213426;
		--bs-pagination-border-color: var(--separator-color);
		--bs-pagination-hover-color: #e8f5e9;
		/* Un fondo ligeramente diferente para el hover */
		--bs-pagination-hover-bg: #3a5a40;
		--bs-pagination-hover-border-color: #3a5a40;
		--bs-pagination-focus-color: #e8f5e9;
		--bs-pagination-focus-bg: #4f7659; /* Un poco más oscuro para el foco */
		/* Sombra de foco genérica, ya que --primary-color-rgb no está definido */
		--bs-pagination-focus-box-shadow: 0 0 0 0.25rem rgba(130, 138, 145, 0.25);

		--bs-pagination-active-color: #1a2b1e; /* Texto oscuro para el elemento activo */
		--bs-pagination-active-bg: var(--heading-color);
		--bs-pagination-active-border-color: var(--heading-color);

		--bs-pagination-disabled-color: #a3b8a8;
		/* Mismo fondo que el normal para deshabilitados, pero con texto atenuado */
		--bs-pagination-disabled-bg: #213426;
		--bs-pagination-disabled-border-color: var(--separator-color);
	}

	.offcanvas-header {
		background-color: #1a2b1e;
		color: #e8f5e9;
		border-bottom: 1px solid var(--separator-color);

		/* Invierte los colores del botón de cierre para que sea visible en modo oscuro */
		.btn-close {
			filter: invert(1) grayscale(100%) brightness(200%); /* Keep the white close button */
		}
	}

	.offcanvas-body {
		background-color: var(--filter-container-bg);
	}

	/* Botón para mostrar filtros en breakpoints xs */
	.filtersToggleButton {
		color: var(--filters-toggle-btn-color);
		border-color: var(--filters-toggle-btn-border);
		background-color: transparent;
	}

	.filtersToggleButton:hover {
		color: var(--filters-toggle-btn-color-hover);
		background-color: var(--filters-toggle-btn-bg-hover);
	}
}

/* ======================================== */
/* --- ESTILOS GLOBALES (No dependen del tema) --- */
/* ======================================== */

/* Elimina la transición para varios componentes de Bootstrap en ambos temas */
.form-control,
.page-link,
.accordion-button,
.accordion-body {
	transition: none;
}

/* Estilos para botones deshabilitados de forma accesible.
   Se mantienen en el DOM y son enfocables, pero visualmente parecen inactivos. */
.btn[aria-disabled="true"] {
	opacity: 0.65;
	pointer-events: none; /* Evita clics y efectos hover */
}
/* Estilos comunes para la barra de navegación */
.customNavbar {
	padding-top: 1.2rem;
	padding-bottom: 1.2rem;
	width: 100%;
}

/* Estilos comunes para el Offcanvas */
.offcanvas-header {
	font-weight: bolder;
	padding: 1rem 1.25rem;
}

.offcanvas-body {
	padding: 1rem 0;
}

.offcanvas-body .nav-link {
	display: block;
	width: 95%;
	margin-left: 2.5%;
	text-align: center;
	margin-bottom: 0.6rem;
	padding: 0.6rem 1rem;
	text-decoration: none;
	border-radius: 0.375rem;
	transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
}

/* En el modo claro, el color del texto del enlace se hereda del body */
/* Excluimos los botones de login/logout para que no hereden el color del texto */
html.light
	.offcanvas-body
	.nav-link:not([class*="loginLink"]):not([class*="logoutLink"]) {
	color: inherit;
}

/* En el modo oscuro, el color del texto del enlace es el principal del tema oscuro */
/* Excluimos los botones de login/logout para que no hereden el color del texto */
html.dark
	.offcanvas-body
	.nav-link:not([class*="loginLink"]):not([class*="logoutLink"]) {
	color: #e8f5e9;
}

/* Estilos específicos para los enlaces de login y logout dentro del Offcanvas (común a ambos temas) */
.offcanvas-body .nav-link[class*="loginLink"],
.offcanvas-body .nav-link[class*="logoutLink"] {
	color: white; /* Asegura que el texto sea blanco sobre el fondo verde/gris oscuro */
}

/* Estilo para los paneles de contenido principales, como los de las páginas de formulario */
.contentPane {
	/* Usa variables de tema para adaptarse al modo claro/oscuro */
	background-color: var(
		--excursion-card-bg
	); /* Reutilizamos el fondo de las tarjetas */
	color: var(--text-color);
	border: 1px solid var(--separator-color);
	border-radius: 0.5rem;
	margin-top: 2rem;
	margin-bottom: 2rem;
	padding: 2rem;
}

/* Media query para breakpoints pequeños (xs breakpoint de Bootstrap es <576px) */
@media (max-width: 575.98px) {
	.contentPane {
		margin-top: 1rem;
		margin-bottom: 1.5rem;
	}
}
